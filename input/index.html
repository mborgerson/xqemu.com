



<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Experimental Xbox emulator">
      
      
        <link rel="canonical" href="http://xqemu.com/input/">
      
      
        <meta name="author" content="xqemu Developers">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-3.0.5">
    
    
      
        <title>Input Devices - XQEMU</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application.451f80e5.css">
      
        <link rel="stylesheet" href="../assets/stylesheets/application-palette.22915126.css">
      
      
        
        
        <meta name="theme-color" content="#4caf50">
      
    
    
      <script src="../assets/javascripts/modernizr.1aa3b519.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../assets/fonts/material-icons.css">
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="green" data-md-color-accent="light-green">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="__github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#option-1-use-an-sdl2-supported-input-device" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="http://xqemu.com" title="XQEMU" class="md-header-nav__button md-logo">
          
            <i class="md-icon">games</i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                XQEMU
              </span>
              <span class="md-header-nav__topic">
                Input Devices
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  


  <a href="https://github.com/xqemu/xqemu/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      xqemu/xqemu
    </div>
  </a>

          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
        

<nav class="md-tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  <li class="md-tabs__item">
    
      <a href=".." title="Welcome" class="md-tabs__link md-tabs__link--active">
        Welcome
      </a>
    
  </li>

      
        
      
        
      
        
      
        
      
        
      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../developers/" title="Developers" class="md-tabs__link">
          Developers
        </a>
      
    </li>
  

      
    </ul>
  </div>
</nav>
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="http://xqemu.com" title="XQEMU" class="md-nav__button md-logo">
      
        <i class="md-icon">games</i>
      
    </a>
    XQEMU
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/xqemu/xqemu/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      xqemu/xqemu
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." title="Welcome" class="md-nav__link">
      Welcome
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../screenshots/" title="Screenshots" class="md-nav__link">
      Screenshots
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../getting-started/" title="Getting Started" class="md-nav__link">
      Getting Started
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Input Devices
      </label>
    
    <a href="./" title="Input Devices" class="md-nav__link md-nav__link--active">
      Input Devices
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#option-1-use-an-sdl2-supported-input-device" title="Option 1: Use an SDL2-supported input device" class="md-nav__link">
    Option 1: Use an SDL2-supported input device
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#option-2-use-your-pc-keyboard" title="Option 2: Use your PC keyboard" class="md-nav__link">
    Option 2: Use your PC keyboard
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#option-3-usb-passthru-advanced" title="Option 3: USB-passthru (advanced)" class="md-nav__link">
    Option 3: USB-passthru (advanced)
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#hub-forwarding" title="Hub-Forwarding" class="md-nav__link">
    Hub-Forwarding
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gamepad-forwarding" title="Gamepad-Forwarding" class="md-nav__link">
    Gamepad-Forwarding
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#advanced-info" title="Advanced Info" class="md-nav__link">
    Advanced Info
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#about-xid-and-qemu-usb" title="About XID and QEMU USB" class="md-nav__link">
    About XID and QEMU USB
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#emulated-xid" title="Emulated XID" class="md-nav__link">
    Emulated XID
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../networking/" title="Networking" class="md-nav__link">
      Networking
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../tips/" title="Tips" class="md-nav__link">
      Tips
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      Developers
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        Developers
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../developers/" title="Welcome" class="md-nav__link">
      Welcome
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#option-1-use-an-sdl2-supported-input-device" title="Option 1: Use an SDL2-supported input device" class="md-nav__link">
    Option 1: Use an SDL2-supported input device
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#option-2-use-your-pc-keyboard" title="Option 2: Use your PC keyboard" class="md-nav__link">
    Option 2: Use your PC keyboard
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#option-3-usb-passthru-advanced" title="Option 3: USB-passthru (advanced)" class="md-nav__link">
    Option 3: USB-passthru (advanced)
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#hub-forwarding" title="Hub-Forwarding" class="md-nav__link">
    Hub-Forwarding
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gamepad-forwarding" title="Gamepad-Forwarding" class="md-nav__link">
    Gamepad-Forwarding
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#advanced-info" title="Advanced Info" class="md-nav__link">
    Advanced Info
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#about-xid-and-qemu-usb" title="About XID and QEMU USB" class="md-nav__link">
    About XID and QEMU USB
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#emulated-xid" title="Emulated XID" class="md-nav__link">
    Emulated XID
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/xqemu/xqemu.com/blob/master/docs/input.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                  <h1>Input Devices</h1>
                
                <p>XQEMU currently supports three options for connecting one or more virtual
gamepads:</p>
<ol>
<li>Using an SDL2-supported input device to emulate an Xbox controller</li>
<li>Using your PC's keyboard to emulate an Xbox controller</li>
<li>Using a real Xbox controller with USB pass-thru (advanced)</li>
</ol>
<p>And like a real Xbox, you can connect multiple controllers!</p>
<p>In all cases, start by making sure you have the <code>-usb</code> option specified on the
XQEMU command line.</p>
<h2 id="option-1-use-an-sdl2-supported-input-device">Option 1: Use an SDL2-supported input device<a class="headerlink" href="#option-1-use-an-sdl2-supported-input-device" title="Permanent link">&para;</a></h2>
<p>This method is known to work well with Xbox 360 and DualShock 4 controllers,
with little to no setup required (with the exception of installing any required
platform drivers).</p>
<p>When starting XQEMU, simply pass in the following option:</p>
<div class="codehilite"><pre><span></span>-device usb-xbox-gamepad-sdl,index=0
</pre></div>


<p>If you have multiple gamepads connected to your system, you can change the index
of the connected device by changing <code>index=X</code> accordingly.</p>
<p>Multiple gamepads can be connected by specifying the line above multiple times.</p>
<h2 id="option-2-use-your-pc-keyboard">Option 2: Use your PC keyboard<a class="headerlink" href="#option-2-use-your-pc-keyboard" title="Permanent link">&para;</a></h2>
<p>If you do not have access to a real gamepad, you can use your PC's keyboard to
emulate an Xbox gamepad. This works well in a pinch, and for for navigating
through menus.</p>
<p>When starting XQEMU, simply pass in the following option:</p>
<div class="codehilite"><pre><span></span>-device usb-xbox-gamepad
</pre></div>


<p>If you'd like, you can combine this device with the <code>usb-xbox-gamepad-sdl</code>
device to emulate connecting two controllers. The input can't be configured at
the moment but the following buttons are mapped:</p>
<table>
<thead>
<tr>
<th align="right">Xbox</th>
<th align="left">PC Keyboard</th>
</tr>
</thead>
<tbody>
<tr>
<td align="right"><img alt="A" src="http://xboxdevwiki.net/images/thumb/c/cf/Input-a.png/24px-Input-a.png" /></td>
<td align="left"><kbd>S</kbd></td>
</tr>
<tr>
<td align="right"><img alt="B" src="http://xboxdevwiki.net/images/thumb/b/b8/Input-b.png/24px-Input-b.png" /></td>
<td align="left"><kbd>D</kbd></td>
</tr>
<tr>
<td align="right"><img alt="X" src="http://xboxdevwiki.net/images/thumb/5/54/Input-x.png/24px-Input-x.png" /></td>
<td align="left"><kbd>W</kbd></td>
</tr>
<tr>
<td align="right"><img alt="Y" src="http://xboxdevwiki.net/images/thumb/2/2d/Input-y.png/24px-Input-y.png" /></td>
<td align="left"><kbd>E</kbd></td>
</tr>
<tr>
<td align="right"><img alt="White" src="http://xboxdevwiki.net/images/thumb/2/25/Input-white.png/20px-Input-white.png" /></td>
<td align="left"><kbd>X</kbd></td>
</tr>
<tr>
<td align="right"><img alt="Black" src="http://xboxdevwiki.net/images/thumb/4/40/Input-black.png/20px-Input-black.png" /></td>
<td align="left"><kbd>C</kbd></td>
</tr>
<tr>
<td align="right"><img alt="Start" src="http://xboxdevwiki.net/images/thumb/5/59/Input-start.png/26px-Input-start.png" /></td>
<td align="left"><kbd>Return</kbd></td>
</tr>
<tr>
<td align="right"><img alt="Back" src="http://xboxdevwiki.net/images/thumb/6/6f/Input-back.png/26px-Input-back.png" /></td>
<td align="left"><kbd>Backspace</kbd></td>
</tr>
<tr>
<td align="right"><a href="http://xboxdevwiki.net/images/thumb/8/84/Input-d.png/32px-Input-d.png">DPad</a>-Up</td>
<td align="left"><kbd>&uarr;</kbd></td>
</tr>
<tr>
<td align="right"><a href="http://xboxdevwiki.net/images/thumb/8/84/Input-d.png/32px-Input-d.png">DPad</a>-Down</td>
<td align="left"><kbd>&darr;</kbd></td>
</tr>
<tr>
<td align="right"><a href="http://xboxdevwiki.net/images/thumb/8/84/Input-d.png/32px-Input-d.png">DPad</a>-Left</td>
<td align="left"><kbd>&larr;</kbd></td>
</tr>
<tr>
<td align="right"><a href="http://xboxdevwiki.net/images/thumb/8/84/Input-d.png/32px-Input-d.png">DPad</a>-Right</td>
<td align="left"><kbd>&rarr;</kbd></td>
</tr>
<tr>
<td align="right">Left Trigger</td>
<td align="left"><kbd>Q</kbd></td>
</tr>
<tr>
<td align="right">Right Trigger</td>
<td align="left"><kbd>R</kbd></td>
</tr>
<tr>
<td align="right"><a href="http://xboxdevwiki.net/images/thumb/f/fe/Input-l.png/32px-Input-l.png">Left-Thumbstick</a>-Up</td>
<td align="left"><kbd>T</kbd></td>
</tr>
<tr>
<td align="right"><a href="http://xboxdevwiki.net/images/thumb/f/fe/Input-l.png/32px-Input-l.png">Left-Thumbstick</a>-Down</td>
<td align="left"><kbd>G</kbd></td>
</tr>
<tr>
<td align="right"><a href="http://xboxdevwiki.net/images/thumb/f/fe/Input-l.png/32px-Input-l.png">Left-Thumbstick</a>-Left</td>
<td align="left"><kbd>F</kbd></td>
</tr>
<tr>
<td align="right"><a href="http://xboxdevwiki.net/images/thumb/f/fe/Input-l.png/32px-Input-l.png">Left-Thumbstick</a>-Right</td>
<td align="left"><kbd>H</kbd></td>
</tr>
<tr>
<td align="right"><a href="http://xboxdevwiki.net/images/thumb/f/fe/Input-l.png/32px-Input-l.png">Left-Thumbstick</a>-Press</td>
<td align="left"><kbd>V</kbd></td>
</tr>
<tr>
<td align="right"><a href="http://xboxdevwiki.net/images/thumb/9/9d/Input-r.png/32px-Input-r.png">Right-Thumbstick</a>-Up</td>
<td align="left"><kbd>I</kbd></td>
</tr>
<tr>
<td align="right"><a href="http://xboxdevwiki.net/images/thumb/9/9d/Input-r.png/32px-Input-r.png">Right-Thumbstick</a>-Down</td>
<td align="left"><kbd>K</kbd></td>
</tr>
<tr>
<td align="right"><a href="http://xboxdevwiki.net/images/thumb/9/9d/Input-r.png/32px-Input-r.png">Right-Thumbstick</a>-Left</td>
<td align="left"><kbd>J</kbd></td>
</tr>
<tr>
<td align="right"><a href="http://xboxdevwiki.net/images/thumb/9/9d/Input-r.png/32px-Input-r.png">Right-Thumbstick</a>-Right</td>
<td align="left"><kbd>L</kbd></td>
</tr>
<tr>
<td align="right"><a href="http://xboxdevwiki.net/images/thumb/9/9d/Input-r.png/32px-Input-r.png">Right-Thumbstick</a>-Press</td>
<td align="left"><kbd>M</kbd></td>
</tr>
</tbody>
</table>
<h2 id="option-3-usb-passthru-advanced">Option 3: USB-passthru (advanced)<a class="headerlink" href="#option-3-usb-passthru-advanced" title="Permanent link">&para;</a></h2>
<p>XQEMU has the option to forward USB Devices from the host to the guest. The
input might be delayed, but it will support all features you'd expect. In theory
even memory units or the communicator should work! You have 2 options to forward
the xbox gamepad.</p>
<p>You can either forward the hub or just the gamepad.</p>
<p>To be able to forward any of the host devices you must take the following steps:</p>
<ol>
<li>Have an <a href="http://www.amazon.com/XBOX-USB-Controller-Converter-Gamepad-Adapter/dp/B00CD0KFU0">adapter cable (this one has not been tested yet!)</a> or <a href="http://www.ocmodshop.com/how-to-use-an-xbox-controller-as-a-usb-pc-gamepad/3/">build one yourself*</a></li>
<li>Have libusb installed</li>
<li>Find the VID:PID (Vendor and Product ID) of the XID-Hub and/or the internal Gamepad device</li>
<li>Make sure that libusb has the necessary permissions</li>
</ol>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>Please do not destroy original controllers. Instead buy an adapter cable, or
a cheap break-away or extension cable. By cutting it in half you can create
2 USB adapters: 1. USB to Xbox + 2. Xbox to USB. You can still use your
adapters as an extension cable for most XIDs (not working with lightguns).</p>
</div>
<p>On Linux you can use <code>lsusb</code> for step 2. Step 3 involves adding a udev rule on
most linux distributions. The udev rule (/etc/udev/rules.d/999-xbox-
gamepad.rules) for a Controller-S could look like this:</p>
<div class="codehilite"><pre><span></span>SUBSYSTEMS==&quot;usb&quot;, ATTRS{idVendor}==&quot;045e&quot;, ATTRS{idProduct}==&quot;0288&quot;, GROUP=&quot;users&quot;, MODE=&quot;660&quot; # Hub
SUBSYSTEMS==&quot;usb&quot;, ATTRS{idVendor}==&quot;045e&quot;, ATTRS{idProduct}==&quot;0289&quot;, GROUP=&quot;users&quot;, MODE=&quot;660&quot; # Gamepad
</pre></div>


<h4 id="hub-forwarding">Hub-Forwarding<a class="headerlink" href="#hub-forwarding" title="Permanent link">&para;</a></h4>
<p>To forward the entire hub of the controller we simply have to forward the hub to the emulated xbox.</p>
<p><strong>Example:</strong>
<div class="codehilite"><pre><span></span>-usb -device usb-host,bus=usb-bus.0,port=3,vendorid=0x45e,productid=0x288
</pre></div></p>
<h4 id="gamepad-forwarding">Gamepad-Forwarding<a class="headerlink" href="#gamepad-forwarding" title="Permanent link">&para;</a></h4>
<p>For Gamepad forwarding we create a virtual hub using QEMU and connect the XID gamepad device to port 2 of the emulated hub.</p>
<p><strong>Example:</strong>
<div class="codehilite"><pre><span></span>-usb -device usb-hub,bus=usb-bus.0,port=3 -device usb-host,vendorid=0x45e,productid=0x289,bus=usb-bus.0,port=3.2
</pre></div></p>
<h2 id="advanced-info">Advanced Info<a class="headerlink" href="#advanced-info" title="Permanent link">&para;</a></h2>
<h3 id="about-xid-and-qemu-usb">About XID and QEMU USB<a class="headerlink" href="#about-xid-and-qemu-usb" title="Permanent link">&para;</a></h3>
<p>The Xbox uses so called <a href="http://xboxdevwiki.net/Xbox_Input_Devices">Xbox Input Devices (XID)</a>.</p>
<p>To connect a device to the virtual Xbox you must specify the driver for the
emulated USB device and the port the device should connect to.</p>
<p>The ports which can be used in XQEMU are:</p>
<table>
<thead>
<tr>
<th align="center">Xbox Port</th>
<th align="left">XQEMU USB-Port</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">Player 1</td>
<td align="left"><code>bus=usb-bus.0,port=3</code></td>
</tr>
<tr>
<td align="center">Player 2</td>
<td align="left"><code>bus=usb-bus.0,port=4</code></td>
</tr>
<tr>
<td align="center">Player 3</td>
<td align="left"><code>bus=usb-bus.0,port=1</code></td>
</tr>
<tr>
<td align="center">Player 4</td>
<td align="left"><code>bus=usb-bus.0,port=2</code></td>
</tr>
</tbody>
</table>
<p>The XID is usually connected to Port 2 of the XID-hub. So if you have a hub for
Player 1 at <code>bus=usb-bus.0,port=3</code>, your gamepad-device would connect to <code>bus
=usb-bus.0,port=3.2</code>.</p>
<p>To connect multiple gamepads you can simply specify multiple <code>-device</code>.</p>
<p>To find out more about QEMU USB emulation you can read <a href="http://qemu.weilnetz.de/qemu-doc.html#pcsys_005fusb">the QEMU User
Documentation</a>.</p>
<h3 id="emulated-xid">Emulated XID<a class="headerlink" href="#emulated-xid" title="Permanent link">&para;</a></h3>
<p>There is XID emulation in XQEMU which emulates a very basic Duke Xbox Controller
(VID: 0x045e, PID: 0x0202).</p>
<p>To recreate the internal XID hub we use the existing QEMU "usb-hub" device.
The actual XID emulation is provided by the "xbox-gamepad" device.</p>
<p>Example:</p>
<div class="codehilite"><pre><span></span>-usb -device usb-hub,bus=usb-bus.0,port=3 -device usb-xbox-gamepad,bus=usb-bus.0,port=3.2
</pre></div>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../getting-started/" title="Getting Started" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Getting Started
              </span>
            </div>
          </a>
        
        
          <a href="../networking/" title="Networking" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Networking
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2018 XQEMU Developers
          </div>
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application.583bbe55.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:".."}})</script>
      
    
    
      
    
  </body>
</html>